{"version":3,"sources":["api/UserApi.js","api/NotesApi.js","GlobalState.js","components/headers/Header.js","components/mainpages/auth/Login.js","components/mainpages/auth/Register.js","components/mainpages/notes/BtnRender.js","components/mainpages/notes/NoteList.js","components/mainpages/notes/Notes.js","components/mainpages/notes/NotesDetail.js","components/mainpages/notes/CreateAndUpdateNotes.js","components/mainpages/Pages.js","App.js","index.js"],"names":["UserApi","token","useState","isLogged","setIsLogged","isAdmin","setIsAdmin","useEffect","getUser","a","axios","get","headers","Authorization","res","data","role","alert","NotesApi","props","notes","setNotes","callback","setCallback","getNotes","noteList","GlobalState","createContext","DataProvider","children","setToken","refreshToken","accesstoken","localStorage","getItem","state","userApi","notesApi","Provider","value","Header","useContext","logoutUser","clear","window","location","href","className","to","onClick","Login","email","password","user","setUser","onChangeInput","e","target","name","loginSubmit","preventDefault","post","setItem","response","msg","onSubmit","type","required","placeholder","onChange","autoComplete","Register","firstName","lastName","registerSubmit","BtnRender","note","deleteNote","id","_id","NoteList","title","Notes","delete","map","NotesDetail","params","useParams","noteDetail","setNoteDetail","forEach","length","description","initialState","noteList_id","CreateAndUpdateNotes","setNote","history","useHistory","onEdit","setOnEdit","onchangeInput","handleSubmit","put","push","htmlFor","disabled","rows","pages","exact","path","component","App","Pages","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.ecce1b93.chunk.js","sourcesContent":["import axios from 'axios';\r\nimport {useState, useEffect} from 'react';\r\n\r\nfunction UserApi(token) {\r\n    const [isLogged, setIsLogged] = useState(false);\r\n    const [isAdmin, setIsAdmin] = useState(false);\r\n\r\n    useEffect(()=>{\r\n\r\n        if(token){\r\n            const getUser = async() =>{\r\n\r\n                try {\r\n                    const res = await axios.get('/user/info', {\r\n                        headers: {Authorization: token}\r\n                    })\r\n                        setIsLogged(true)\r\n                        res.data.role === 1 ? setIsAdmin(true) : setIsAdmin(false)\r\n\r\n                } catch (err) {\r\n                    alert(err.data)\r\n                }\r\n\r\n            }\r\n            getUser();\r\n        };\r\n        \r\n    }, [token]);\r\n\r\n\r\n    return (\r\n        {\r\n            //HERE we are passing it to the otherfiles..\r\n            isLogged:[isLogged, setIsLogged],\r\n            isAdmin:[isAdmin, setIsAdmin],\r\n        \r\n        });\r\n}\r\n\r\nexport default UserApi;","import {useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nfunction NotesApi(props) {\r\n    const [notes, setNotes] = useState([])\r\n    const [callback, setCallback ] = useState(false);\r\n\r\n\r\n    useEffect(()=>{\r\n\r\n    const getNotes = async() =>{\r\n        const res = await axios.get('/api/notes')\r\n        // console.log(res)\r\n        setNotes(res.data.noteList);\r\n        \r\n    }\r\n        getNotes()\r\n    }, [callback, setCallback])\r\n\r\n    return {\r\n\r\n        notes: [notes, setNotes],\r\n        callback: [callback, setCallback ],\r\n    };\r\n}\r\n\r\nexport default NotesApi;","import React,{createContext, useState, useEffect} from \"react\";\r\nimport axios from 'axios';\r\n\r\n//component import\r\nimport UserApi from \"./api/UserApi\"; \r\nimport NotesApi from \"./api/NotesApi\";\r\n\r\n\r\nexport const GlobalState = createContext();\r\n\r\nexport const DataProvider = ({children}) =>{\r\n\r\n    const [token, setToken] = useState(false)\r\n\r\n    const refreshToken = async () =>{\r\n        const res = await axios.get('/user/refresh_token')\r\n        // console.log(res);\r\n        setToken(res.data.accesstoken)\r\n    }\r\n\r\n    useEffect(()=>{\r\n        const firstLogin = localStorage.getItem('firstLogin')\r\n        if(firstLogin) refreshToken()\r\n    }, [])\r\n\r\n    const state = {\r\n        token: [token, setToken],\r\n        userApi: UserApi(token),\r\n        notesApi: NotesApi ()\r\n       \r\n    }\r\n    \r\n\r\n    return(\r\n        <GlobalState.Provider value = {state}>\r\n            {children}\r\n        </GlobalState.Provider>\r\n    )\r\n}","import React, {useContext } from 'react';\r\nimport axios from 'axios';\r\nimport { Link } from 'react-router-dom';\r\n//components import\r\nimport { GlobalState } from '../../GlobalState';\r\n\r\n\r\nfunction Header(props) {\r\n    const state = useContext(GlobalState)\r\n    // console.log(state) \r\n        const [isLogged] = state.userApi.isLogged\r\n        const [isAdmin] = state.userApi.isAdmin\r\n\r\n    const logoutUser = async() =>{\r\n        await axios.get('/user/logout')\r\n        localStorage.clear()\r\n        // setIsAdmin(false)\r\n        // setIsLogged(false)\r\n            //OR\r\n      window.location.href = \"/\";\r\n    }\r\n\r\n    const adminRouter = () =>{\r\n        return(\r\n            <>\r\n            <li><Link to = '/create_note'>Create Notes</Link></li>\r\n            </>\r\n        )\r\n    };\r\n\r\n    const loggedRouter = () =>{\r\n        return(\r\n            <>\r\n            <li><Link to = '/' onClick={logoutUser}> Logout</Link></li>\r\n            </>\r\n        )\r\n    };\r\n\r\n    return (\r\n        <header>\r\n\r\n            <div className='logo'>\r\n                <h1>\r\n                    <Link to='/'> {isAdmin ? \"Admin\" : \"Notes App\"}</Link>\r\n                </h1>\r\n            </div>\r\n\r\n            <ul>\r\n                <li><Link to='/'> Notes </Link></li>\r\n\r\n                {isAdmin && adminRouter()}\r\n                {\r\n                    isLogged ? loggedRouter() : <li><Link to='/login'>Login or Register</Link></li>\r\n                }\r\n            </ul>\r\n           \r\n        </header>\r\n    );\r\n}\r\n\r\nexport default Header;","import React, {useState} from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport axios from 'axios';\r\n\r\nfunction Login(props) {\r\n    const [user, setUser] = useState({\r\n        email:\"\",\r\n        password:\"\"\r\n    })\r\n\r\n    const onChangeInput = e =>{\r\n        const {name, value} = e.target;\r\n        setUser({...user, [name]: value})\r\n    }\r\n    // console.log(user)\r\n\r\n    const loginSubmit = async(e) =>{\r\n        e.preventDefault()\r\n        try {\r\n            await axios.post('/user/login', {...user})\r\n\r\n            localStorage.setItem('firstLogin', true)\r\n\r\n            window.location.href = \"/\";\r\n\r\n        } catch (err) {\r\n            alert(err.response.data.msg)\r\n        }\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"login-page\">\r\n            <form onSubmit={loginSubmit}>\r\n                <h2>Login</h2>\r\n                <input type=\"email\" name=\"email\" required \r\n                placeholder = \"Email\" value={user.email} onChange={onChangeInput}/>\r\n                <input type=\"password\" name=\"password\" required autoComplete=\"on\"\r\n                placeholder = \"Password\" value={user.password} onChange={onChangeInput}/>\r\n                \r\n                <div className=\"row\">\r\n                        <button type=\"submit\">Login</button>\r\n                        <Link to = '/register'>Register</Link>\r\n                </div>\r\n            </form>\r\n\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\nexport default Login;","import React, {useState} from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport axios from 'axios';\r\n\r\nfunction Register(props) {\r\n    const [user, setUser] = useState({\r\n        firstName:\"\",\r\n        lastName: \"\",\r\n        email:\"\",\r\n        password:\"\"\r\n    })\r\n\r\n    const onChangeInput = e =>{\r\n        const {name, value} = e.target;\r\n        setUser({...user, [name]: value})\r\n    }\r\n    // console.log(user)\r\n\r\n    const registerSubmit = async(e) =>{\r\n        e.preventDefault()\r\n        try {\r\n            await axios.post('/user/register', {...user})\r\n\r\n            localStorage.setItem('firstLogin', true)\r\n\r\n            window.location.href = \"/\";\r\n\r\n        } catch (err) {\r\n            alert(err.response.data.msg)\r\n        }\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"login-page\">\r\n            <form onSubmit={registerSubmit}>\r\n                <h2>Register</h2>\r\n                <input type=\"text\" name=\"firstName\" required \r\n                placeholder = \"First Name\" value={user.firstName} onChange={onChangeInput}/>\r\n                <input type=\"text\" name=\"lastName\" required \r\n                placeholder = \"Last Name\" value={user.lastName} onChange={onChangeInput}/>\r\n                <input type=\"email\" name=\"email\" required \r\n                placeholder = \"Email\" value={user.email} onChange={onChangeInput}/>\r\n                <input type=\"password\" name=\"password\" required autoComplete=\"on\"\r\n                placeholder = \"Password\" value={user.password} onChange={onChangeInput}/>\r\n                \r\n                <div className=\"row\">\r\n                        <button type=\"submit\">Register</button>\r\n                        <Link to = '/login'>Login</Link>\r\n                </div>\r\n            </form>\r\n\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\nexport default Register;","import React, { useContext } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { GlobalState } from '../../../GlobalState';\r\n\r\n\r\nfunction BtnRender({note, deleteNote}) {\r\n    const state = useContext(GlobalState);\r\n    const [isAdmin] = state.userApi.isAdmin\r\n   \r\n\r\n   \r\n\r\n    return (\r\n        <>\r\n        <div className='row_btn'>\r\n            {\r\n                isAdmin ?\r\n                <>\r\n                  <Link id='btn-view' to={`/detail/${note._id}`}>\r\n                    <button>View</button>\r\n                </Link>\r\n\r\n                <Link to='#!' onClick={() => deleteNote(note._id)}>\r\n                    <button id='btn-buy'>Delete</button>\r\n                 </Link>\r\n\r\n                <Link  to={`/update_note/${note._id}`}>\r\n                <button id='btn-edit'>Edit</button>    \r\n                </Link>\r\n            </> :\r\n             <>\r\n                <Link id='btn-view' to={`/detail/${note._id}`}>\r\n                    <button>View</button>\r\n                </Link>\r\n                </>\r\n            }\r\n                \r\n\r\n            </div>\r\n            </>\r\n    );\r\n}\r\n\r\nexport default BtnRender;","import React from 'react';\r\nimport BtnRender from './BtnRender';\r\n\r\n\r\n\r\nfunction NoteList({note, deleteNote}) {\r\n    \r\n\r\n    return (\r\n        <>   \r\n        \r\n\r\n            <div className=\"row_card\">\r\n\r\n                   <div className=\"product_box\">\r\n                                 <h2 title={note.title}> {note.title}</h2>\r\n                         </div> \r\n\r\n            <BtnRender note={note} deleteNote={deleteNote} />\r\n            \r\n            </div>\r\n        \r\n        </>\r\n    );\r\n}\r\n\r\nexport default NoteList;","import React, {useContext} from 'react';\r\nimport axios from 'axios';\r\nimport { GlobalState } from '../../../GlobalState';\r\nimport NoteList from './NoteList';\r\n\r\n\r\nfunction Notes(){\r\n    const state = useContext(GlobalState)\r\n    const [token] = state.token\r\n    const [callback, setCallback ] = state.notesApi.callback;\r\n    // console.log(state);\r\n    const [notes] = state.notesApi.notes\r\n    // console.log(notes)\r\n    const [isAdmin] = state.userApi.isAdmin\r\n\r\n\r\n    const deleteNote = async(id) =>{\r\n        try {\r\n            if(isAdmin){\r\n            await axios.delete(`/api/notes/${id}`, {\r\n                headers: { Authorization: token}\r\n            })\r\n                setCallback(!callback)\r\n        }\r\n            \r\n        } catch (err) {\r\n            alert(err.response.msg)\r\n        }\r\n              }    \r\n\r\n    // if(loading) return <div><Loading/></div>\r\n\r\n    return(\r\n        <>     \r\n\r\n        <div className=\"products\">\r\n            <div className=\"todo_heading\">\r\n            <h1>TODO LIST</h1>\r\n            </div>\r\n                \r\n            {\r\n                notes.map(note => {\r\n                    return  <NoteList key={note._id} note={note} isAdmin={isAdmin}\r\n                    deleteNote={deleteNote}  />\r\n                             \r\n                       \r\n                })\r\n            }\r\n        </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Notes;","import React, {useContext, useState, useEffect} from 'react';\r\nimport {useParams} from 'react-router-dom';\r\nimport { GlobalState } from '../../../GlobalState';\r\n\r\nfunction NotesDetail(props) {\r\n    const params = useParams()\r\n    const state = useContext(GlobalState);\r\n    const [notes] = state.notesApi.notes;\r\n    const [noteDetail, setNoteDetail] = useState([])\r\n\r\n    useEffect(()=>{\r\n        if(params.id){\r\n            notes.forEach(note => {\r\n                if(note._id === params.id) setNoteDetail(note)\r\n            });\r\n        }\r\n    }, [params.id, notes])   \r\n\r\n    // console.log(params)\r\n    // console.log(detailProduct);\r\n\r\n\r\n    if(noteDetail.length === 0) return null;\r\n   \r\n    \r\n    return (\r\n        <>\r\n    \r\n            <div className=\"box\">\r\n            <div className=\"box-detail\">\r\n                <div className = \"row\">\r\n                    <h2>{noteDetail.title}</h2>\r\n                </div>\r\n                <p>{noteDetail.description}</p>\r\n            </div>\r\n            </div>\r\n\r\n  </>\r\n     )\r\n    \r\n    \r\n}\r\n\r\nexport default NotesDetail;","import React,{useContext, useState, useEffect} from 'react';\r\nimport axios from 'axios';\r\nimport { GlobalState } from '../../../GlobalState';\r\nimport {useHistory,useParams} from 'react-router-dom'\r\n\r\nconst initialState ={\r\n    noteList_id: \"\",\r\n    title: \"\",\r\n    description:\"\",\r\n    _id:\"\"\r\n}\r\n\r\n\r\n\r\nfunction CreateAndUpdateNotes(props) {\r\n    const state = useContext(GlobalState);\r\n    const [isAdmin] = state.userApi.isAdmin\r\n    const [token] = state.token\r\n    const [callback, setCallback ] = state.notesApi.callback;\r\n\r\n    const [note, setNote] = useState(initialState)\r\n\r\n    const params = useParams()\r\n    const history = useHistory()\r\n\r\n    const [onEdit, setOnEdit] = useState(false)\r\n    const [notes] = state.notesApi.notes\r\n\r\n    useEffect(()=>{\r\n        // if(!isAdmin) return alert('This is only Admin access')\r\n        if(params.id){\r\n            setOnEdit(true)\r\n            notes.forEach(note =>{\r\n                if(note._id === params.id) {\r\n                setNote(note)\r\n                  }   \r\n            })\r\n           \r\n        }else{\r\n            setOnEdit(false)\r\n            setNote(initialState)\r\n        }\r\n    }, [params.id, isAdmin, notes])\r\n\r\n    const onchangeInput = e =>{\r\n        const {name, value} = e.target\r\n        setNote({...note, [name]: value})\r\n        // console.log(product)\r\n    }\r\n\r\n    const handleSubmit = async(e) =>{\r\n        e.preventDefault()\r\n        try {\r\n\r\n            if(onEdit){\r\n                await axios.put(`/api/notes/${note._id}`, {...note}, {\r\n                    headers: { Authorization: token}\r\n                })\r\n                setCallback(!callback)\r\n            }else{\r\n                await axios.post('/api/notes', {...note}, {\r\n                    headers: { Authorization: token}\r\n                })\r\n                setCallback(!callback)\r\n            }\r\n            \r\n            setNote(initialState)\r\n            history.push(\"/\")\r\n\r\n        } catch (err) {\r\n            alert(err.response.data.msg)\r\n        }\r\n    }\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"margin\">\r\n        <div className=\"create_product\">\r\n\r\n            <form onSubmit={handleSubmit}>\r\n                <div className=\"row\">\r\n                    <label htmlFor=\"noteList_id\">Notes ID</label>\r\n                    <input type=\"text\" name=\"noteList_id\" id=\"noteList_id\" required \r\n                    value={note.noteList_id} onChange={ (e)=> onchangeInput(e)} disabled={onEdit}/>\r\n                </div>\r\n\r\n                <div className=\"row\">\r\n                    <label htmlFor=\"title\">Title</label>\r\n                    <input type=\"text\" name=\"title\" id=\"title\" required\r\n                     value={note.title} onChange={ (e)=> onchangeInput(e)} />\r\n                </div>\r\n\r\n                <div className=\"row\">\r\n                    <label htmlFor=\"description\">Description</label>\r\n                    <textarea type=\"text\" name=\"description\" id=\"description\" required\r\n                     value={note.description} rows=\"13\" onChange={ (e)=> onchangeInput(e)}/>\r\n                </div>\r\n\r\n                <button type=\"submit\">{onEdit ? \"Update\" : \"Create\"}</button>\r\n                \r\n            </form>\r\n            \r\n        </div>\r\n        </div>\r\n\r\n        \r\n    );\r\n}\r\n\r\nexport default CreateAndUpdateNotes;","import React from 'react';\r\nimport {Switch, Route} from 'react-router-dom'\r\nimport Login from './auth/Login';\r\nimport Register from './auth/Register';\r\nimport Notes from './notes/Notes';\r\nimport NotesDetail from './notes/NotesDetail';\r\nimport CreateAndUpdateNotes from './notes/CreateAndUpdateNotes';\r\n\r\n\r\nfunction pages(props) {\r\n    return (\r\n        <Switch>\r\n            <Route exact path='/' component={Notes}  />\r\n            <Route exact path='/detail/:id' component={NotesDetail}  />\r\n            <Route exact path='/login' component={Login}  />\r\n            <Route exact path='/register' component={Register}  />\r\n            <Route exact path='/create_note' component={CreateAndUpdateNotes}  />\r\n            <Route exact path='/update_note/:id' component={CreateAndUpdateNotes}  />\r\n            \r\n        </Switch>\r\n    );\r\n}\r\n\r\nexport default pages;","import React from \"react\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport Header from \"./components/headers/Header\";\nimport { DataProvider } from \"./GlobalState\";\nimport Pages from \"./components/mainpages/Pages\";\n\nfunction App() {\n  return (\n  <DataProvider>\n        <Router>\n           <div className=\"App\">\n                   <Header/>\n                   <Pages/>\n           </div>\n       </Router>\n  </DataProvider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n    <App />\n ,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}